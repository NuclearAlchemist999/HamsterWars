@page "/gallery"
@inject IHamsterRepository HamsterService
@inject NavigationManager NavigationManager


<h3>Hamsters</h3>
<button class="btn btn-primary" @onclick="AddNewHamster">Add hamster</button>
<br /> <br /> 

@foreach (var hamster in HamsterService.Hamsters)
{
    <div>
    <img src="@hamster.ImgName" alt="@hamster.Name" class="hamster-img" @onclick="(() => HamsterFacts(hamster.Id))">
    <p>@hamster.Name</p>
    <button class="btn btn-primary" @onclick="(() => ShowHamster(hamster.Id))">
                    <i class="oi oi-pencil"></i>
    </button>
    </div>
}



@code {
    protected override async Task OnInitializedAsync()
    {
        await HamsterService.LoadHamsters();
    }

    void ShowHamster(int id)
    {
        NavigationManager.NavigateTo($"hamster/{id}");
    }

    void AddNewHamster()
    {
        NavigationManager.NavigateTo("hamster");
    }

    void HamsterFacts(int id)
    {
        NavigationManager.NavigateTo($"hamsterinfo/{id}");
    }

}